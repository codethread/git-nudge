async function f({token:t,domain:n,timeout:s}){return async function(a,...[i]){var e;const o=await fetch(`https://${n}/api/graphql`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/graphql-response+json",Authorization:`Bearer ${t}`},signal:AbortSignal.timeout(s),body:JSON.stringify({query:a,variables:i})});if(o.status===401)throw new Error("Your token is invalid or expired");if(!o.ok)throw new Error("Network response was not ok");const c=await o.json(),{data:p,errors:r}=c;if(r){for(const h of r)console.error(h);throw new Error((e=r.at(0))==null?void 0:e.message)}return p}}export{f as createFetcher};
