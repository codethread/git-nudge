async function u({token:t,domain:n,timeout:a}){return async function(s,...[i]){var e;const r=await fetch(`https://${n}/api/graphql`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/graphql-response+json",Authorization:`Bearer ${t}`},signal:AbortSignal.timeout(a),body:JSON.stringify({query:s,variables:i})});if(r.status===401)throw new Error("Your token is invalid or expired");if(!r.ok)throw new Error("Network response was not ok");const c=await r.json(),{data:p,errors:o}=c;if(o)throw o.forEach(h=>console.error(h)),new Error((e=o.at(0))==null?void 0:e.message);return p}}export{u as createFetcher};
